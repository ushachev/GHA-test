{"version":3,"sources":["webpack://GHA-test/webpack/runtime/chunk loaded","webpack://GHA-test/./src/app/locales/index.js","webpack://GHA-test/./src/app/locales/ru.js","webpack://GHA-test/./src/app/renderer.js","webpack://GHA-test/./src/app/parser.js","webpack://GHA-test/./src/app/submitHandler.js","webpack://GHA-test/./src/app/init.js","webpack://GHA-test/./src/index.js","webpack://GHA-test/webpack/bootstrap","webpack://GHA-test/webpack/runtime/compat get default export","webpack://GHA-test/webpack/runtime/define property getters","webpack://GHA-test/webpack/runtime/global","webpack://GHA-test/webpack/runtime/hasOwnProperty shorthand","webpack://GHA-test/webpack/runtime/node module decorator","webpack://GHA-test/webpack/runtime/jsonp chunk loading","webpack://GHA-test/webpack/startup"],"names":["deferred","ru","translation","errors","validation","required","url","doubleUrl","parsing","network","unknown","results","completed","elements","feedsTitle","postsTitle","readButton","state","i18n","modal","Modal","document","getElementById","statePathMapping","rssForm","processState","submitBtn","disabled","rssUrlInput","removeAttribute","focus","setAttribute","reset","Error","renderForm","processResult","classValue","feedback","innerHTML","renderFeedback","classList","toggle","appStatus","rssQuerySection","feeds","feedItems","map","title","description","feedsContainer","t","join","renderFeeds","posts","watchedState","shownPostsIds","postItems","id","link","linkClass","has","postsContainer","querySelectorAll","forEach","button","addEventListener","e","target","dataset","postId","add","renderPosts","post","find","postLink","querySelector","modalTitle","textContent","modalBody","modalPostLink","href","show","remove","renderModal","onChange","path","contents","xml","DOMParser","parseFromString","documentElement","nodeName","feed","item","yup","mixed","string","schema","trim","sendRequest","axios","params","disableCache","catch","updateTimeout","preventDefault","formData","FormData","valid","validate","get","then","config","data","parseUrlData","setTimeout","updatePosts","feedPromises","oldPostsLinks","filter","feedId","newPosts","includes","uniqueId","push","Promise","allSettled","startUpdatePosts","relationedPosts","pushRssDataToState","err","name","message","i18nInstance","i18next","init","lng","debug","resources","Set","initView","handleRssFormSubmit","initSubmitHandler","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","key","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","179","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"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","file":"main.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","import ru from './ru.js';\n\nexport default { ru };\n","export default {\n  translation: {\n    errors: {\n      validation: {\n        required: 'Не должно быть пустым',\n        url: 'Ссылка должна быть валидным URL',\n        doubleUrl: 'RSS уже существует',\n      },\n      parsing: 'Ресурс не содержит валидный RSS',\n      network: 'Ошибка сети',\n      unknown: 'Неизвестная ошибка. Что-то пошло не так.',\n    },\n    results: {\n      completed: 'RSS успешно загружен',\n    },\n    elements: {\n      feedsTitle: 'Фиды',\n      postsTitle: 'Посты',\n      readButton: 'Просмотр',\n    },\n  },\n};\n","/* eslint-disable no-param-reassign */\n\nimport Modal from 'bootstrap/js/dist/modal';\nimport onChange from 'on-change';\n\nconst renderForm = (state, elements) => {\n  switch (state.rssForm.processState) {\n    case 'filling':\n      elements.submitBtn.disabled = false;\n      elements.rssUrlInput.removeAttribute('readonly');\n      elements.rssUrlInput.focus();\n      break;\n\n    case 'processing':\n      elements.submitBtn.disabled = true;\n      elements.rssUrlInput.setAttribute('readonly', '');\n      break;\n\n    case 'completed':\n      elements.rssForm.reset();\n      break;\n\n    default:\n      throw Error(`Unknown form state: ${state.rssForm.processState}`);\n  }\n};\n\nconst renderFeedback = ({ rssForm: { processState, processResult } }, elements) => {\n  const classValue = processState === 'completed' ? 'text-success' : 'text-danger';\n  elements.feedback.innerHTML = processResult === null\n    ? ''\n    : `<span class=\"${classValue}\">${processResult}</span>`;\n};\n\nconst renderFeeds = (feeds, elements, i18n) => {\n  const feedItems = feeds.map(({ title, description }) => `\n      <li class=\"list-group-item\">\n        <h3>${title}</h3>\n        <p>${description}</p>\n      </li>\n    `);\n\n  elements.feedsContainer.innerHTML = `\n    <h2>${i18n.t('elements.feedsTitle')}</h2>\n    <ul class=\"list-group\">\n      ${feedItems.join('\\n')}\n    </ul>\n  `;\n};\n\nconst renderPosts = (state, elements, i18n) => {\n  const { posts, shownPostsIds } = state;\n  const postItems = posts.map(({ id, title, link }) => {\n    const linkClass = shownPostsIds.has(id) ? 'fw-normal' : 'fw-bold';\n\n    return `\n      <li class=\"list-group-item d-flex align-items-center p-3\">\n        <a href=\"${link}\" class=\"${linkClass} me-auto\" data-id=\"${id}\" target=\"_blank\">${title}</a>\n        <button type=\"button\" class=\"btn btn-secondary btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#modal\" data-id=\"${\n  id}\">${i18n.t('elements.readButton')}</button>\n      </li>\n    `;\n  });\n\n  elements.postsContainer.innerHTML = `\n    <h2>${i18n.t('elements.postsTitle')}</h2>\n    <ul class=\"list-group\">\n      ${postItems.join('\\n')}\n    </ul>\n  `;\n\n  const readPostButtons = elements.postsContainer.querySelectorAll('button');\n  [...readPostButtons].forEach((button) => button.addEventListener('click', (e) => {\n    const { id } = e.target.dataset;\n\n    state.modal.postId = id;\n    state.shownPostsIds.add(id);\n  }));\n};\n\nconst renderModal = (state, elements, modal) => {\n  const post = state.posts.find(({ id }) => id === state.modal.postId);\n  const postLink = elements.postsContainer.querySelector(`a[data-id=\"${state.modal.postId}\"]`);\n\n  elements.modalTitle.textContent = post.title;\n  elements.modalBody.textContent = post.description;\n  elements.modalPostLink.href = post.link;\n\n  modal.show();\n\n  postLink.classList.remove('fw-bold');\n  postLink.classList.add('fw-normal');\n};\n\nexport default (state, elements, i18n) => {\n  const modal = new Modal(document.getElementById('modal'));\n\n  const statePathMapping = {\n    'rssForm.processState': () => renderForm(state, elements),\n    'rssForm.processResult': () => renderFeedback(state, elements),\n    'rssForm.valid': () => elements.rssUrlInput.classList.toggle('is-invalid'),\n    appStatus: () => elements.rssQuerySection.classList.toggle('my-auto'),\n    feeds: () => renderFeeds(state.feeds, elements, i18n),\n    posts: (watchedState) => renderPosts(watchedState, elements, i18n),\n    'modal.postId': () => renderModal(state, elements, modal),\n  };\n\n  const watchedState = onChange(state, (path) => statePathMapping[path]?.(watchedState));\n\n  return watchedState;\n};\n","export default ({ contents }) => {\n  const parser = new DOMParser();\n  const xml = parser.parseFromString(contents, 'application/xml');\n\n  if (xml.documentElement.nodeName !== 'rss') {\n    throw new Error('errors.parsing');\n  }\n\n  const feed = {\n    title: xml.querySelector('channel title').textContent,\n    description: xml.querySelector('channel description').textContent,\n  };\n\n  const posts = [...xml.querySelectorAll('channel item')]\n    .map((item) => ({\n      title: item.querySelector('title').textContent,\n      description: item.querySelector('description').textContent,\n      link: item.querySelector('link').textContent,\n    }));\n\n  return { feed, posts };\n};\n","/* eslint-disable no-param-reassign */\n\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport uniqueId from 'lodash/uniqueId';\n\nimport parseUrlData from './parser.js';\n\nyup.setLocale({\n  mixed: {\n    required: 'errors.validation.required',\n  },\n  string: {\n    required: 'errors.validation.required',\n    url: 'errors.validation.url',\n  },\n});\n\nconst schema = yup\n  .string()\n  .trim()\n  .required()\n  .url();\n\nconst proxyUrl = 'https://hexlet-allorigins.herokuapp.com/get';\nconst sendRequest = (url) => axios.get(proxyUrl, { params: { url, disableCache: true } })\n  .catch(() => {\n    throw new Error('errors.network');\n  });\n\nconst pushRssDataToState = (state, url, feed, posts) => {\n  const id = uniqueId('feed_');\n  const relationedPosts = posts.map((post) => ({ id: uniqueId('post_'), feedId: id, ...post }));\n\n  state.feeds.push({ id, url, ...feed });\n  state.posts.push(...relationedPosts);\n};\n\nconst startUpdatePosts = (state, updateTimeout) => {\n  const updatePosts = () => {\n    const feedPromises = state.feeds.map(({ id, url }) => sendRequest(url)\n      .then(({ data }) => {\n        const { posts } = parseUrlData(data);\n\n        const oldPostsLinks = state.posts.filter(({ feedId }) => feedId === id)\n          .map(({ link }) => link);\n\n        const newPosts = posts.filter(({ link }) => !oldPostsLinks.includes(link))\n          .map((post) => ({ id: uniqueId('post_'), feedId: id, ...post }));\n\n        state.posts.push(...newPosts);\n      }));\n\n    Promise.allSettled(feedPromises).then(() => setTimeout(updatePosts, updateTimeout));\n  };\n\n  setTimeout(updatePosts, updateTimeout);\n};\n\nexport default (state, i18n, updateTimeout) => (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(e.target);\n\n  state.rssForm.valid = true;\n  state.rssForm.processResult = null;\n  state.rssForm.processState = 'processing';\n\n  schema.validate(formData.get('url'))\n    .then((url) => {\n      const isUrlUniq = !state.feeds.find((feed) => feed.url === url);\n\n      if (!isUrlUniq) {\n        throw new yup.ValidationError('errors.validation.doubleUrl');\n      }\n\n      return sendRequest(url);\n    })\n    .then(({ config, data }) => {\n      const { feed, posts } = parseUrlData(data);\n\n      if (state.appStatus === 'initial') {\n        state.appStatus = 'filled';\n        startUpdatePosts(state, updateTimeout);\n      }\n\n      state.rssForm.processState = 'completed';\n      state.rssForm.processResult = i18n.t('results.completed');\n\n      pushRssDataToState(state, config.params.url, feed, posts);\n    })\n    .catch((err) => {\n      state.rssForm.valid = err.name !== 'ValidationError';\n      state.rssForm.processResult = i18n.t(err.message, i18n.t('errors.unknown'));\n    })\n    .then(() => {\n      state.rssForm.processState = 'filling';\n    });\n};\n","import i18next from 'i18next';\n\nimport resources from './locales/index.js';\nimport initView from './renderer.js';\nimport initSubmitHandler from './submitHandler.js';\n\nexport default async (updateTimeout = 5000) => {\n  const i18nInstance = i18next.createInstance();\n  await i18nInstance.init({\n    lng: 'ru',\n    debug: false,\n    resources,\n  });\n\n  const state = {\n    appStatus: 'initial',\n    feeds: [],\n    posts: [],\n    shownPostsIds: new Set(),\n    rssForm: {\n      valid: true,\n      processState: 'filling',\n      processResult: null,\n    },\n    modal: {\n      postId: null,\n    },\n  };\n\n  const elements = {\n    rssQuerySection: document.getElementById('rssQuery'),\n    rssForm: document.getElementById('rssForm'),\n    rssUrlInput: document.getElementById('url'),\n    submitBtn: document.querySelector('button[type=\"submit\"]'),\n    feedback: document.getElementById('feedback'),\n    feedsContainer: document.getElementById('feedsContainer'),\n    postsContainer: document.getElementById('postsContainer'),\n\n    modalTitle: document.getElementById('modalLabel'),\n    modalBody: document.querySelector('.modal-body'),\n    modalPostLink: document.getElementById('modalPostLink'),\n  };\n\n  const watchedState = initView(state, elements, i18nInstance);\n  const handleRssFormSubmit = initSubmitHandler(watchedState, i18nInstance, updateTimeout);\n\n  elements.rssForm.addEventListener('submit', handleRssFormSubmit);\n};\n","import 'regenerator-runtime/runtime';\nimport 'bootswatch/dist/sketchy/bootstrap.min.css';\nimport init from './app/init.js';\n\ninit();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkGHA_test\"] = self[\"webpackChunkGHA_test\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [199], function() { return __webpack_require__(4119); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}